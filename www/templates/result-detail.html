<!--
  This template loads for the 'tab.friend-detail' state (app.js)
  'friend' is a $scope variable created in the FriendsCtrl controller (controllers.js)
  The FriendsCtrl pulls data from the Friends service (service.js)
  The Friends service returns an array of friend data
-->
<ion-view view-title="{{event.title}}">
  <ion-content >
    <img class="event-profile" ng-src="{{event.pic}}" >
    <section class="padding">
      <div class="event-caption row">
        <p class="event-catalog col col-30">{{event.category}}</p>
        <p class="event-date col ">{{event.time | date: 'MMM dd h:mma'}}</p>
      </div>
      <article class="event-description">
        {{event.description}}
      </p>
      </article> 

      <ion-list>
      <ion-item class="item-remove-animate item-icon-right group-list" ng-repeat="group in event.groups track by $index" type="item-text-wrap" href="#/tab/results/{{event.id}}">
        <!-- <img ng-src="{{event.pic}}"></img> -->
        <div class="row">

          <span class="ion-android-bus col col-10 tag" ng-if="group.transport=='public' "></span>
          <span class="ion-android-car col col-10 tag" ng-if="group.transport=='private' "></span>

          <p class="col col-80"><span>Buddies: </span>{{print(group.users)}}</p>
      </div>
      <div>
        <p class="icon small" ng-if="$index==selectedGroupIndex">Joined</p>
        <i class="icon ion-checkmark-round" ng-click="register($index)" ng-if="$index!=selectedGroupIndex" ></i>
        <i class="icon ion-checkmark-round green" ng-click="deregister($index)" ng-if="$index==selectedGroupIndex" ></i>
      </div>

        <ion-option-button class="button-assertive" ng-click="remove(event)">
          Delete
        </ion-option-button>
      </ion-item>
    </ion-list>

    <button id="create-btn" class="button button-block button-positive" ng-click="createGroup()">
      Create Group
    </button> 
    <button id="solo-btn" class="button button-block button-positive" ng-click="goSolo()">
      Go alone
    </button> 

  </ion-content>
</ion-view>
